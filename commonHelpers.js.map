{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport async function fetchImages(query) {\n    const API_KEY = \"23963114-6d0d5d874ae460d9125bacd21\";\n    const BASE_URL = \"https://pixabay.com/api/\";\n    \n    const params = new URLSearchParams( {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        lang: \"en\",\n        safesearch: \"true\"\n    })\n\nconst url = `${BASE_URL}?${params}`\n\n    const response = await fetch (url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    return response.json();\n  }\n","\n\nconst gallery = document.querySelector(\".gallery\");  \n\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet lightbox = new SimpleLightbox('.gallery li', {\n  caption: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});;\n\n export function createGallery (arr) {\ngallery.innerHTML =  arr.map((image) => \n  `<li class=\"gallery-item\">\n<a href=\"${image.largeImageURL}\" >\n  <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n  </a>\n  <div class=\"info\">\n    <p><b>Likes</b> ${image.likes}</p>\n    <p><b>Views</b> ${image.views}</p>\n    <p><b>Comments</b> ${image.comments}</p>\n    <p><b>Downloads</b> ${image.downloads}</p>\n  </div>\n\n</li>`).join('');\n  \nlightbox.refresh();\n}\n  \nexport function showError(message) {\n    iziToast.error({\n      title: 'Error',\n      message: message,\n      position: 'topRight'\n    });\n  }\n\n\n\n  export function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n  }\n  \n  export function showLoader() {\n    console.log('+');\n    document.querySelector('.div-loader').classList.remove('hidden');\n  }\n  \n  export function hideLoader() {\n    console.log('-');\n      document.querySelector('.div-loader').classList.add('hidden');\n    \n  }","\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { createGallery, showError, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\ndocument.querySelector('.search-form').addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n  const query = event.target.elements.images.value.trim();\n  if (!query) {\n    showError('Please enter a search query');\n    return;\n  }\n  clearGallery();\n  showLoader();\n  try {\n    const data = await fetchImages(query);\n    if (data.hits.length === 0) {\n      showError('Sorry, there are no images matching your search query. Please try again!');\n    } else {\n      createGallery(data.hits);\n    }\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    hideLoader();\n  }\n});"],"names":["fetchImages","query","API_KEY","BASE_URL","params","url","response","gallery","lightbox","SimpleLightbox","createGallery","arr","image","showError","message","iziToast","clearGallery","showLoader","hideLoader","event","data","error"],"mappings":"6vBACO,eAAeA,EAAYC,EAAO,CACrC,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAS,IAAI,gBAAiB,CAChC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,KAAM,KACN,WAAY,MACpB,CAAK,EAECI,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEvBE,EAAW,MAAM,MAAOD,CAAG,EACjC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACpB,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EASjD,IAAIC,EAAW,IAAIC,EAAe,cAAe,CAC/C,QAAS,GACT,aAAc,MACd,aAAc,GAChB,CAAC,EAEO,SAASC,EAAeC,EAAK,CACrCJ,EAAQ,UAAaI,EAAI,IAAKC,GAC5B;AAAA,WACSA,EAAM,aAAa;AAAA,cAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sBAG9BA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,MAGnC,EAAE,KAAK,EAAE,EAEfJ,EAAS,QAAO,CAChB,CAEO,SAASK,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UAChB,CAAK,CACF,CAIM,SAASE,GAAe,CAC7B,MAAMT,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACrB,CAEM,SAASU,GAAa,CAC3B,QAAQ,IAAI,GAAG,EACf,SAAS,cAAc,aAAa,EAAE,UAAU,OAAO,QAAQ,CAChE,CAEM,SAASC,GAAa,CAC3B,QAAQ,IAAI,GAAG,EACb,SAAS,cAAc,aAAa,EAAE,UAAU,IAAI,QAAQ,CAElE,CCvDA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,MAAOC,GAAU,CACjFA,EAAM,eAAc,EACpB,MAAMlB,EAAQkB,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAI,CAAClB,EAAO,CACVY,EAAU,6BAA6B,EACvC,MACD,CACDG,IACAC,IACA,GAAI,CACF,MAAMG,EAAO,MAAMpB,EAAYC,CAAK,EAChCmB,EAAK,KAAK,SAAW,EACvBP,EAAU,0EAA0E,EAEpFH,EAAcU,EAAK,IAAI,CAE1B,OAAQC,EAAO,CACdR,EAAUQ,EAAM,OAAO,CAC3B,QAAY,CACRH,GACD,CACH,CAAC"}